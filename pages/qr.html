<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>QR-Generator</title>

  <link rel="stylesheet" href="../style.css">

  <!-- QR Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

  <div id="logo">
    <img src="../logo.png" alt="Logo" class="logo-img">
  </div>

  <h1 id="pageTitle">QR-Generator</h1>

  <div class="qr-page">

    <!-- Eingaben -->
    <div class="qr-form-card">
      <h2 class="qr-subtitle">Daten f√ºr QR-Code</h2>

      <div class="qr-form-grid">

        <label class="qr-field">
          <span>BKZ (optional)</span>
          <input type="text" id="bkz" placeholder="z.B. 123" list="bkzList" inputmode="numeric">
          <datalist id="bkzList"></datalist>
        </label>

        <label class="qr-field">
          <span>Wahlvorstand</span>
          <input type="text" id="vorsitz" placeholder="z.B. Max Mustermann">
        </label>

        <label class="qr-field">
          <span>Wahlbetrieb (bei BKZ vorgeschlagen, bleibt editierbar)</span>
          <input type="text" id="betrieb" placeholder="z.B. DB Regio Bayern">
        </label>

        <label class="qr-field">
          <span>E-Mail</span>
          <input type="email" id="email" placeholder="wahlvorstand@firma.de">
        </label>

        <label class="qr-field" style="grid-column:1/-1">
          <span>Anschrift</span>
          <input type="text" id="anschrift" placeholder="Stra√üe, PLZ Ort">
        </label>

      </div>
    </div>

    <!-- QR Bereich -->
    <div class="qr-center">

      <div class="qr-actions-top">
        <button id="btn-generate" class="btn-primary" type="button">QR-Code erstellen</button>
        <button id="btn-refresh" class="btn-secondary" type="button">üîÑ Refresh (QR l√∂schen)</button>
      </div>

      <div class="qr-code-card">
        <div id="qrcode" class="qr-code"></div>
        <div id="qrStatus" class="qr-status"></div>
      </div>

      <div class="qr-actions-bottom">
        <button id="btn-png" type="button">Als PNG speichern</button>
        <button id="btn-pdf" type="button">Als PDF speichern</button>
      </div>

      <!-- Sticker -->
      <div class="qr-sticker">
        <h3 class="qr-subtitle-small">QR-Aufkleber (90√ó55 mm)</h3>

        <div class="qr-actions-sticker">
          <button id="btn-sticker-png" type="button">Sticker als PNG</button>
          <button id="btn-sticker-pdf" type="button">Sticker als PDF</button>
          <button id="btn-add-to-collection" class="btn-primary" type="button">‚ûï Zum Multi-Sticker hinzuf√ºgen</button>
        </div>

        <div id="stickerPreview" class="sticker-preview"></div>

        <hr class="qr-divider">

        <!-- Sammlung -->
        <h3 class="qr-subtitle-small">Multi-Sticker Sammlung</h3>

        <div class="collection-toolbar">
          <div class="collection-meta">
            Gesammelt: <b id="collectionCount">0</b>
          </div>
          <div class="collection-actions">
            <button id="btn-a4-from-collection" class="btn-primary" type="button">üñ® A4 aus Sammlung drucken</button>
            <button id="btn-clear-collection" class="btn-secondary" type="button">üóë Sammlung leeren</button>
          </div>
        </div>

        <div id="collectionList" class="collection-list"></div>

        <hr class="qr-divider">

        <!-- Optionaler Batch per BKZ -->
        <h3 class="qr-subtitle-small">A4 Multi-Sticker per BKZ-Liste (optional)</h3>
        <div class="qr-batch">
          <div class="qr-batch-hint">BKZ-Liste: eine pro Zeile oder mit Komma/; getrennt.</div>
          <textarea id="batchBkz" class="qr-batch-text" placeholder="123&#10;456&#10;789"></textarea>
          <div class="qr-actions-sticker">
            <button id="btn-a4" type="button">A4 Sticker-PDF aus BKZ-Liste erstellen</button>
          </div>
        </div>
      </div>

      <div class="qr-back">
        <a href="../index.html"><button type="button">‚¨ÖÔ∏è Zur√ºck zur Startseite</button></a>
      </div>

    </div>

  </div>

  <script src="../js/core.js"></script>
  <script src="../js/qr.js"></script>

</body>
</html>